<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Dokan API callbacks interface"><title>DOKAN_OPERATIONS in dokany_sys - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="dokany_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../dokany_sys/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../dokany_sys/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">DOKAN_OPERATIONS</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block"><li><a href="#structfield.Cleanup">Cleanup</a></li><li><a href="#structfield.CloseFile">CloseFile</a></li><li><a href="#structfield.DeleteDirectory">DeleteDirectory</a></li><li><a href="#structfield.DeleteFile">DeleteFile</a></li><li><a href="#structfield.FindFiles">FindFiles</a></li><li><a href="#structfield.FindFilesWithPattern">FindFilesWithPattern</a></li><li><a href="#structfield.FindStreams">FindStreams</a></li><li><a href="#structfield.FlushFileBuffers">FlushFileBuffers</a></li><li><a href="#structfield.GetDiskFreeSpace">GetDiskFreeSpace</a></li><li><a href="#structfield.GetFileInformation">GetFileInformation</a></li><li><a href="#structfield.GetFileSecurity">GetFileSecurity</a></li><li><a href="#structfield.GetVolumeInformation">GetVolumeInformation</a></li><li><a href="#structfield.LockFile">LockFile</a></li><li><a href="#structfield.Mounted">Mounted</a></li><li><a href="#structfield.MoveFile">MoveFile</a></li><li><a href="#structfield.ReadFile">ReadFile</a></li><li><a href="#structfield.SetAllocationSize">SetAllocationSize</a></li><li><a href="#structfield.SetEndOfFile">SetEndOfFile</a></li><li><a href="#structfield.SetFileAttributes">SetFileAttributes</a></li><li><a href="#structfield.SetFileSecurity">SetFileSecurity</a></li><li><a href="#structfield.SetFileTime">SetFileTime</a></li><li><a href="#structfield.UnlockFile">UnlockFile</a></li><li><a href="#structfield.Unmounted">Unmounted</a></li><li><a href="#structfield.WriteFile">WriteFile</a></li><li><a href="#structfield.ZwCreateFile">ZwCreateFile</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.new">new</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Default-for-DOKAN_OPERATIONS">Default</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-DOKAN_OPERATIONS">RefUnwindSafe</a></li><li><a href="#impl-Send-for-DOKAN_OPERATIONS">Send</a></li><li><a href="#impl-Sync-for-DOKAN_OPERATIONS">Sync</a></li><li><a href="#impl-Unpin-for-DOKAN_OPERATIONS">Unpin</a></li><li><a href="#impl-UnwindSafe-for-DOKAN_OPERATIONS">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-DOKAN_OPERATIONS">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-DOKAN_OPERATIONS">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-DOKAN_OPERATIONS">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-DOKAN_OPERATIONS">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-DOKAN_OPERATIONS">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-DOKAN_OPERATIONS">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-DOKAN_OPERATIONS">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In dokany_sys</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="index.html">dokany_sys</a>::<wbr><a class="struct" href="#">DOKAN_OPERATIONS</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/dokany_sys/lib.rs.html#460-965">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code><div class="code-attribute">#[repr(C)]</div>pub struct DOKAN_OPERATIONS {<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 25 fields</span></summary>
    pub ZwCreateFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.ZwCreateFileCallback.html" title="type dokany_sys::ZwCreateFileCallback">ZwCreateFileCallback</a>&gt;,
    pub Cleanup: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.CleanupCallback.html" title="type dokany_sys::CleanupCallback">CleanupCallback</a>&gt;,
    pub CloseFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.CloseFileCallback.html" title="type dokany_sys::CloseFileCallback">CloseFileCallback</a>&gt;,
    pub ReadFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.ReadFileCallback.html" title="type dokany_sys::ReadFileCallback">ReadFileCallback</a>&gt;,
    pub WriteFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.WriteFileCallback.html" title="type dokany_sys::WriteFileCallback">WriteFileCallback</a>&gt;,
    pub FlushFileBuffers: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FlushFileBuffersCallback.html" title="type dokany_sys::FlushFileBuffersCallback">FlushFileBuffersCallback</a>&gt;,
    pub GetFileInformation: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetFileInformationCallback.html" title="type dokany_sys::GetFileInformationCallback">GetFileInformationCallback</a>&gt;,
    pub FindFiles: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FindFilesCallback.html" title="type dokany_sys::FindFilesCallback">FindFilesCallback</a>&gt;,
    pub FindFilesWithPattern: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FindFilesWithPatternCallback.html" title="type dokany_sys::FindFilesWithPatternCallback">FindFilesWithPatternCallback</a>&gt;,
    pub SetFileAttributes: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetFileAttributesCallback.html" title="type dokany_sys::SetFileAttributesCallback">SetFileAttributesCallback</a>&gt;,
    pub SetFileTime: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetFileTimeCallback.html" title="type dokany_sys::SetFileTimeCallback">SetFileTimeCallback</a>&gt;,
    pub DeleteFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DeleteFileCallback.html" title="type dokany_sys::DeleteFileCallback">DeleteFileCallback</a>&gt;,
    pub DeleteDirectory: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DeleteDirectoryCallback.html" title="type dokany_sys::DeleteDirectoryCallback">DeleteDirectoryCallback</a>&gt;,
    pub MoveFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.MoveFileCallback.html" title="type dokany_sys::MoveFileCallback">MoveFileCallback</a>&gt;,
    pub SetEndOfFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetEndOfFileCallback.html" title="type dokany_sys::SetEndOfFileCallback">SetEndOfFileCallback</a>&gt;,
    pub SetAllocationSize: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetAllocationSizeCallback.html" title="type dokany_sys::SetAllocationSizeCallback">SetAllocationSizeCallback</a>&gt;,
    pub LockFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.LockFileCallback.html" title="type dokany_sys::LockFileCallback">LockFileCallback</a>&gt;,
    pub UnlockFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.UnlockFileCallback.html" title="type dokany_sys::UnlockFileCallback">UnlockFileCallback</a>&gt;,
    pub GetDiskFreeSpace: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetDiskFreeSpaceCallback.html" title="type dokany_sys::GetDiskFreeSpaceCallback">GetDiskFreeSpaceCallback</a>&gt;,
    pub GetVolumeInformation: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetVolumeInformationCallback.html" title="type dokany_sys::GetVolumeInformationCallback">GetVolumeInformationCallback</a>&gt;,
    pub Mounted: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.MountedCallback.html" title="type dokany_sys::MountedCallback">MountedCallback</a>&gt;,
    pub Unmounted: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.Unmounted.html" title="type dokany_sys::Unmounted">Unmounted</a>&gt;,
    pub GetFileSecurity: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetFileSecurityCallback.html" title="type dokany_sys::GetFileSecurityCallback">GetFileSecurityCallback</a>&gt;,
    pub SetFileSecurity: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetFileSecurityCallback.html" title="type dokany_sys::SetFileSecurityCallback">SetFileSecurityCallback</a>&gt;,
    pub FindStreams: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FindStreamsCallback.html" title="type dokany_sys::FindStreamsCallback">FindStreamsCallback</a>&gt;,
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Dokan API callbacks interface</p>
<p>DOKAN_OPERATIONS is a struct of callbacks that describe all Dokan API operations
that will be called when Windows access to the filesystem.</p>
<p>If an error occurs, return NTSTATUS (https://support.microsoft.com/en-us/kb/113996).
Win32 Error can be converted to <code>NTSTATUS</code> with [DokanNtStatusFromWin32]</p>
<p>All callbacks can be set to <code>NULL</code> or return <code>STATUS_NOT_IMPLEMENTED</code>
such as DOKAN_OPERATIONS.ZwCreateFile / DOKAN_OPERATIONS.ReadFile / … would make the filesystem not work or become unstable.</p>
</div></details><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.ZwCreateFile" class="structfield small-section-header"><a href="#structfield.ZwCreateFile" class="anchor field">§</a><code>ZwCreateFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.ZwCreateFileCallback.html" title="type dokany_sys::ZwCreateFileCallback">ZwCreateFileCallback</a>&gt;</code></span><div class="docblock"><p>CreateFile Dokan API callback</p>
<p>CreateFile is called each time a request is made on a file system object.</p>
<p>In case <code>OPEN_ALWAYS</code> &amp; <code>CREATE_ALWAYS</code> are successfully opening an
existing file, <code>STATUS_OBJECT_NAME_COLLISION</code> should be returned instead of <code>STATUS_SUCCESS</code>.
This will inform Dokan that the file has been opened and not created during the request.</p>
<p>If the file is a directory, CreateFile is also called.
In this case, CreateFile should return <code>STATUS_SUCCESS</code> when that directory
can be opened and DOKAN_FILE_INFO.IsDirectory has to be set to <code>TRUE</code>.
On the other hand, if DOKAN_FILE_INFO.IsDirectory is set to <code>TRUE</code>
but the path targets a file, <code>STATUS_NOT_A_DIRECTORY</code> must be returned.</p>
<p>DOKAN_FILE_INFO.Context can be used to store Data (like <code>HANDLE</code>)
that can be retrieved in all other requests related to the Context.
To avoid memory leak, Context needs to be released in DOKAN_OPERATIONS.Cleanup.</p>
<h3 id="arguments"><a href="#arguments">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>SecurityContext</code>: SecurityContext, see https://msdn.microsoft.com/en-us/library/windows/hardware/ff550613(v=vs.85).aspx
<code>DesiredAccess</code>: Specifies an <a href="https://msdn.microsoft.com/en-us/library/windows/hardware/ff540466(v=vs.85).aspx">ACCESS_MASK</a> value that determines the requested access to the object.
<code>FileAttributes</code>: Specifies one or more FILE_ATTRIBUTE_XXX flags, which represent the file attributes to set if a file is created or overwritten.
<code>ShareAccess</code>: Type of share access, which is specified as zero or any combination of FILE_SHARE_* flags.
<code>CreateDisposition</code>: Specifies the action to perform if the file does or does not exist.
<code>CreateOptions</code>: Specifies the options to apply when the driver creates or opens the file.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return"><a href="#return">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references"><a href="#references">References</a></h3>
<p>See <a href="https://msdn.microsoft.com/en-us/library/windows/hardware/ff566424(v=vs.85).aspx">See ZwCreateFile for more information about the parameters of this callback (MSDN).</a>
See DokanMapKernelToUserCreateFileFlags</p>
</div><span id="structfield.Cleanup" class="structfield small-section-header"><a href="#structfield.Cleanup" class="anchor field">§</a><code>Cleanup: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.CleanupCallback.html" title="type dokany_sys::CleanupCallback">CleanupCallback</a>&gt;</code></span><div class="docblock"><p>Cleanup Dokan API callback</p>
<p>Cleanup request before <code>CloseFile</code> is called.</p>
<p>When DOKAN_FILE_INFO.DeleteOnClose is <code>TRUE</code>, the file in Cleanup must be deleted.
The function cannot fail therefore the filesystem need to ensure ahead
that a the delete can safely happen during Cleanup.
See DeleteFile documentation for explanation.</p>
<h3 id="arguments-1"><a href="#arguments-1">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="references-1"><a href="#references-1">References</a></h3>
<p>See DeleteFile
See DeleteDirectory</p>
</div><span id="structfield.CloseFile" class="structfield small-section-header"><a href="#structfield.CloseFile" class="anchor field">§</a><code>CloseFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.CloseFileCallback.html" title="type dokany_sys::CloseFileCallback">CloseFileCallback</a>&gt;</code></span><div class="docblock"><p>CloseFile Dokan API callback</p>
<p>Clean remaining Context</p>
<p>CloseFile is called at the end of the life of the context.
Anything remaining in <code>DOKAN_FILE_INFO.Context</code> must be cleared before returning.</p>
<h3 id="arguments-2"><a href="#arguments-2">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
</div><span id="structfield.ReadFile" class="structfield small-section-header"><a href="#structfield.ReadFile" class="anchor field">§</a><code>ReadFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.ReadFileCallback.html" title="type dokany_sys::ReadFileCallback">ReadFileCallback</a>&gt;</code></span><div class="docblock"><p>ReadFile Dokan API callback</p>
<p>ReadFile callback on the file previously opened in DOKAN_OPERATIONS.ZwCreateFile.
It can be called by different threads at the same time, so the read/context has to be thread safe.</p>
<p>When apps make use of memory mapped files, DOKAN_OPERATIONS.WriteFile or DOKAN_OPERATIONS.ReadFile
functions may be invoked after DOKAN_OPERATIONS.Cleanup in order to complete the I/O operations.
The file system application should also properly work in this case.</p>
<h3 id="arguments-3"><a href="#arguments-3">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>Buffer</code>: Read buffer that has to be filled with the read result.
<code>BufferLength</code>: Buffer length and read size to continue with.
<code>ReadLength</code>: Total data size that has been read.
<code>Offset</code>: Offset from where the read has to be continued.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-1"><a href="#return-1">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-2"><a href="#references-2">References</a></h3>
<p>See WriteFile</p>
</div><span id="structfield.WriteFile" class="structfield small-section-header"><a href="#structfield.WriteFile" class="anchor field">§</a><code>WriteFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.WriteFileCallback.html" title="type dokany_sys::WriteFileCallback">WriteFileCallback</a>&gt;</code></span><div class="docblock"><p>WriteFile Dokan API callback</p>
<p>WriteFile callback on the file previously opened in DOKAN_OPERATIONS.ZwCreateFile
It can be called by different threads at the same time, sp the write/context has to be thread safe.</p>
<p>When apps make use of memory mapped files ( DOKAN_FILE_INFO.PagingIo ),
DOKAN_OPERATIONS.WriteFile or DOKAN_OPERATIONS.ReadFile
The file system application should also properly work in this case.
This type of request should follow Windows rules like not extending the current file size.</p>
<h3 id="arguments-4"><a href="#arguments-4">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>Buffer</code>: Data that has to be written.
<code>NumberOfBytesToWrite</code>: Buffer length and write size to continue with.
<code>NumberOfBytesWritten</code>: Total number of bytes that have been written.
<code>Offset</code>: Offset from where the write has to be continued.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-2"><a href="#return-2">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<p>References
See ReadFile</p>
</div><span id="structfield.FlushFileBuffers" class="structfield small-section-header"><a href="#structfield.FlushFileBuffers" class="anchor field">§</a><code>FlushFileBuffers: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FlushFileBuffersCallback.html" title="type dokany_sys::FlushFileBuffersCallback">FlushFileBuffersCallback</a>&gt;</code></span><div class="docblock"><p>FlushFileBuffers Dokan API callback</p>
<p>Clears buffers for this context and causes any buffered data to be written to the file.</p>
<h3 id="arguments-5"><a href="#arguments-5">Arguments</a></h3>
<p>FileName File path requested by the Kernel on the FileSystem.
DokanFileInfo Information about the file or directory.</p>
<h3 id="returns"><a href="#returns">Returns</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.GetFileInformation" class="structfield small-section-header"><a href="#structfield.GetFileInformation" class="anchor field">§</a><code>GetFileInformation: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetFileInformationCallback.html" title="type dokany_sys::GetFileInformationCallback">GetFileInformationCallback</a>&gt;</code></span><div class="docblock"><p>GetFileInformation Dokan API callback</p>
<p>Get specific information on a file.</p>
<h3 id="arguments-6"><a href="#arguments-6">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>Buffer</code>: BY_HANDLE_FILE_INFORMATION struct to fill.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="returns-1"><a href="#returns-1">Returns</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.FindFiles" class="structfield small-section-header"><a href="#structfield.FindFiles" class="anchor field">§</a><code>FindFiles: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FindFilesCallback.html" title="type dokany_sys::FindFilesCallback">FindFilesCallback</a>&gt;</code></span><div class="docblock"><p>FindFiles Dokan API callback</p>
<p>List all files in the requested path.
<code>DOKAN_OPERATIONS.FindFilesWithPattern</code> is checked first. If it is not implemented or
returns <code>STATUS_NOT_IMPLEMENTED</code>, then FindFiles is called, if assigned.
It is recommended to have this implemented for performance reason.</p>
<h3 id="arguments-7"><a href="#arguments-7">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>FillFindData</code>: Callback that has to be called with PWIN32_FIND_DATAW that contain file information.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-3"><a href="#return-3">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-3"><a href="#references-3">References</a></h3>
<p>See FindFilesWithPattern</p>
</div><span id="structfield.FindFilesWithPattern" class="structfield small-section-header"><a href="#structfield.FindFilesWithPattern" class="anchor field">§</a><code>FindFilesWithPattern: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FindFilesWithPatternCallback.html" title="type dokany_sys::FindFilesWithPatternCallback">FindFilesWithPatternCallback</a>&gt;</code></span><div class="docblock"><p>FindFilesWithPattern Dokan API callback</p>
<p>Same as <code>DOKAN_OPERATIONS.FindFiles</code> but with a search pattern.\n
The search pattern is a Windows MS-DOS-style expression.
It can contain wild cards and extended characters or none of them. See <a href="fn.DokanIsNameInExpression.html" title="fn dokany_sys::DokanIsNameInExpression">DokanIsNameInExpression</a>.</p>
<p>If the function is not implemented, <code>DOKAN_OPERATIONS.FindFiles</code>
will be called instead and the result will be filtered internally by the library.
It is recommended to have this implemented for performance reason.</p>
<h3 id="arguments-8"><a href="#arguments-8">Arguments</a></h3>
<p><code>PathName</code>: Path requested by the Kernel on the FileSystem.
<code>SearchPattern</code>: Search pattern.
<code>FillFindData</code>: Callback that has to be called with PWIN32_FIND_DATAW that contains file information.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="returns-2"><a href="#returns-2">Returns</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-4"><a href="#references-4">References</a></h3>
<p>See FindFiles
See DokanIsNameInExpression</p>
</div><span id="structfield.SetFileAttributes" class="structfield small-section-header"><a href="#structfield.SetFileAttributes" class="anchor field">§</a><code>SetFileAttributes: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetFileAttributesCallback.html" title="type dokany_sys::SetFileAttributesCallback">SetFileAttributesCallback</a>&gt;</code></span><div class="docblock"><p>SetFileAttributes Dokan API callback</p>
<p>Set file attributes on a specific file</p>
<h3 id="arguments-9"><a href="#arguments-9">Arguments</a></h3>
<p>FileName File path requested by the Kernel on the FileSystem.
FileAttributes FileAttributes to set on file.
DokanFileInfo Information about the file or directory.</p>
<h3 id="return-4"><a href="#return-4">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.SetFileTime" class="structfield small-section-header"><a href="#structfield.SetFileTime" class="anchor field">§</a><code>SetFileTime: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetFileTimeCallback.html" title="type dokany_sys::SetFileTimeCallback">SetFileTimeCallback</a>&gt;</code></span><div class="docblock"><p>SetFileTime Dokan API callback</p>
<p>Set file attributes on a specific file</p>
<h3 id="arguments-10"><a href="#arguments-10">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>CreationTime</code>: Creation FILETIME.
<code>LastAccessTime</code>: LastAccess FILETIME.
<code>LastWriteTime</code>: LastWrite FILETIME.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="returns-3"><a href="#returns-3">Returns</a></h3>
<p><code>STATUS_SUCCESS</code>: on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.DeleteFile" class="structfield small-section-header"><a href="#structfield.DeleteFile" class="anchor field">§</a><code>DeleteFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DeleteFileCallback.html" title="type dokany_sys::DeleteFileCallback">DeleteFileCallback</a>&gt;</code></span><div class="docblock"><p>DeleteFile Dokan API callback</p>
<p>Check if it is possible to delete a file.</p>
<p>DeleteFile will also be called with DOKAN_FILE_INFO.DeleteOnClose set to <code>FALSE</code>
to notify the driver when the file is no longer requested to be deleted.</p>
<p>The file in DeleteFile should not be deleted, but instead the file
must be checked as to whether or not it can be deleted,
and <code>STATUS_SUCCESS</code> should be returned (when it can be deleted) or
appropriate error codes, such as <code>STATUS_ACCESS_DENIED</code> or
<code>STATUS_OBJECT_NAME_NOT_FOUND</code>, should be returned.</p>
<p>When <code>STATUS_SUCCESS</code> is returned, a Cleanup call is received afterwards with
DOKAN_FILE_INFO.DeleteOnClose set to <code>TRUE</code>. Only then must the closing file
be deleted.</p>
<h3 id="arguments-11"><a href="#arguments-11">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-5"><a href="#return-5">Return</a></h3>
<p><code>STATUS_SUCCESS</code>: on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-5"><a href="#references-5">References</a></h3>
<p>See DeleteDirectory
See Cleanup</p>
</div><span id="structfield.DeleteDirectory" class="structfield small-section-header"><a href="#structfield.DeleteDirectory" class="anchor field">§</a><code>DeleteDirectory: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DeleteDirectoryCallback.html" title="type dokany_sys::DeleteDirectoryCallback">DeleteDirectoryCallback</a>&gt;</code></span><div class="docblock"><p>Check if it is possible to delete a directory.</p>
<p>DeleteDirectory will also be called with DOKAN_FILE_INFO.DeleteOnClose set to <code>FALSE</code>
to notify the driver when the file is no longer requested to be deleted.</p>
<p>The Directory in DeleteDirectory should not be deleted, but instead
must be checked as to whether or not it can be deleted,
and <code>STATUS_SUCCESS</code> should be returned (when it can be deleted) or
appropriate error codes, such as <code>STATUS_ACCESS_DENIED</code>,
<code>STATUS_OBJECT_PATH_NOT_FOUND</code>, or <code>STATUS_DIRECTORY_NOT_EMPTY</code>, should
be returned.</p>
<p>When <code>STATUS_SUCCESS</code> is returned, a Cleanup call is received afterwards with
DOKAN_FILE_INFO.DeleteOnClose set to <code>TRUE</code>. Only then must the closing file
be deleted.</p>
<h3 id="arguments-12"><a href="#arguments-12">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-6"><a href="#return-6">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or <code>NTSTATUS</code> appropriate to the request result.</p>
<h3 id="references-6"><a href="#references-6">References</a></h3>
<p>[DeleteFile]
[Cleanup]</p>
</div><span id="structfield.MoveFile" class="structfield small-section-header"><a href="#structfield.MoveFile" class="anchor field">§</a><code>MoveFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.MoveFileCallback.html" title="type dokany_sys::MoveFileCallback">MoveFileCallback</a>&gt;</code></span><div class="docblock"><p>MoveFile Dokan API callback</p>
<p>Move a file or directory to a new destination</p>
<h3 id="arguments-13"><a href="#arguments-13">Arguments</a></h3>
<p><code>FileName</code>: Path for the file to be moved.
<code>NewFileName</code>: Path for the new location of the file.
<code>ReplaceIfExisting</code>: If destination already exists, can it be replaced?
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-7"><a href="#return-7">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.SetEndOfFile" class="structfield small-section-header"><a href="#structfield.SetEndOfFile" class="anchor field">§</a><code>SetEndOfFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetEndOfFileCallback.html" title="type dokany_sys::SetEndOfFileCallback">SetEndOfFileCallback</a>&gt;</code></span><div class="docblock"><p>SetEndOfFile Dokan API callback</p>
<p>SetEndOfFile is used to truncate or extend a file (physical file size).</p>
<h3 id="arguments-14"><a href="#arguments-14">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>ByteOffset</code>: File length to set.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-8"><a href="#return-8">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.SetAllocationSize" class="structfield small-section-header"><a href="#structfield.SetAllocationSize" class="anchor field">§</a><code>SetAllocationSize: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetAllocationSizeCallback.html" title="type dokany_sys::SetAllocationSizeCallback">SetAllocationSizeCallback</a>&gt;</code></span><div class="docblock"><p>SetAllocationSize Dokan API callback</p>
<p>SetAllocationSize is used to truncate or extend a file.</p>
<h3 id="arguments-15"><a href="#arguments-15">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>AllocSize</code>: File length to set.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="returns-4"><a href="#returns-4">Returns</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><span id="structfield.LockFile" class="structfield small-section-header"><a href="#structfield.LockFile" class="anchor field">§</a><code>LockFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.LockFileCallback.html" title="type dokany_sys::LockFileCallback">LockFileCallback</a>&gt;</code></span><div class="docblock"><p>LockFile Dokan API callback</p>
<p>Lock file at a specific offset and data length.
This is only used if <a href="constant.DOKAN_OPTION_FILELOCK_USER_MODE.html" title="constant dokany_sys::DOKAN_OPTION_FILELOCK_USER_MODE">DOKAN_OPTION_FILELOCK_USER_MODE</a> is enabled.</p>
<h3 id="arguments-16"><a href="#arguments-16">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>ByteOffset</code>: Offset from where the lock has to be continued.
<code>Length</code>: Data length to lock.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="returns-5"><a href="#returns-5">Returns</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-7"><a href="#references-7">References</a></h3>
<p>See UnlockFile</p>
</div><span id="structfield.UnlockFile" class="structfield small-section-header"><a href="#structfield.UnlockFile" class="anchor field">§</a><code>UnlockFile: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.UnlockFileCallback.html" title="type dokany_sys::UnlockFileCallback">UnlockFileCallback</a>&gt;</code></span><div class="docblock"><p>UnlockFile Dokan API callback</p>
<p>Unlock file at a specific offset and data length.
This is only used if <a href="constant.DOKAN_OPTION_FILELOCK_USER_MODE.html" title="constant dokany_sys::DOKAN_OPTION_FILELOCK_USER_MODE">DOKAN_OPTION_FILELOCK_USER_MODE</a> is enabled.</p>
<h3 id="arguments-17"><a href="#arguments-17">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>ByteOffset</code>: Offset from where the lock has to be continued.
<code>Length</code>: Data length to lock.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-9"><a href="#return-9">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="return-10"><a href="#return-10">Return</a></h3>
<p>See LockFile</p>
</div><span id="structfield.GetDiskFreeSpace" class="structfield small-section-header"><a href="#structfield.GetDiskFreeSpace" class="anchor field">§</a><code>GetDiskFreeSpace: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetDiskFreeSpaceCallback.html" title="type dokany_sys::GetDiskFreeSpaceCallback">GetDiskFreeSpaceCallback</a>&gt;</code></span><div class="docblock"><p>GetDiskFreeSpace Dokan API callback</p>
<p>Retrieves information about the amount of space that is available on a disk volume.
It consits of the total amount of space, the total amount of free space, and</p>
<p>Neither GetDiskFreeSpace nor <code>GetVolumeInformation</code>
save the DOKAN_FILE_INFO.Context.
Before these methods are called, \ref ZwCreateFile may not be called.
(ditto [CloseFile] and [Cleanup])</p>
<h3 id="arguments-18"><a href="#arguments-18">Arguments</a></h3>
<p>FreeBytesAvailable Amount of available space.
<code>TotalNumberOfBytes</code>: Total size of storage space
<code>TotalNumberOfFreeBytes</code>: Amount of free space
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-11"><a href="#return-11">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or \c NTSTATUS appropriate to the request result.</p>
<h3 id="references-8"><a href="#references-8">References</a></h3>
<p>See <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa364937(v=vs.85).aspx"> GetDiskFreeSpaceEx function (MSDN)</a>
See GetVolumeInformation</p>
</div><span id="structfield.GetVolumeInformation" class="structfield small-section-header"><a href="#structfield.GetVolumeInformation" class="anchor field">§</a><code>GetVolumeInformation: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetVolumeInformationCallback.html" title="type dokany_sys::GetVolumeInformationCallback">GetVolumeInformationCallback</a>&gt;</code></span><div class="docblock"><p>GetVolumeInformation Dokan API callback</p>
<p>Retrieves information about the file system and volume associated with the specified root directory.</p>
<p>Neither GetVolumeInformation nor GetDiskFreeSpace
save the <code>DOKAN_FILE_INFO#Context</code>.
Before these methods are called, [ZwCreateFile] may not be called.
(ditto [CloseFile] and [Cleanup])</p>
<p>VolumeName length can be anything that fit in the provided buffer.
But some Windows component expect it to be no longer than 32 characters
that why it is recommended to set a value under this limit.</p>
<p>FileSystemName could be anything up to 10 characters.
But Windows check few feature availability based on file system name.
For this, it is recommended to set NTFS or FAT here.</p>
<p><code>FILE_READ_ONLY_VOLUME</code> is automatically added to the
FileSystemFlags if <code>DOKAN_OPTION_WRITE_PROTECT</code> was
specified in DOKAN_OPTIONS when the volume was mounted.</p>
<h3 id="arguments-19"><a href="#arguments-19">Arguments</a></h3>
<p><code>VolumeNameBuffer</code>: A pointer to a buffer that receives the name of a specified volume.
<code>VolumeNameSize</code>: The length of a volume name buffer.
<code>VolumeSerialNumber</code>: A pointer to a variable that receives the volume serial number.
<code>MaximumComponentLength</code>: A pointer to a variable that receives the maximum length.
<code>FileSystemFlags</code>: A pointer to a variable that receives flags associated with the specified file system.
<code>FileSystemNameBuffer</code>: A pointer to a buffer that receives the name of the file system.
<code>FileSystemNameSize</code>: The length of the file system name buffer.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-12"><a href="#return-12">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-9"><a href="#references-9">References</a></h3>
<p>See <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa364993(v=vs.85).aspx"> GetVolumeInformation function (MSDN)</a>
See GetDiskFreeSpace</p>
</div><span id="structfield.Mounted" class="structfield small-section-header"><a href="#structfield.Mounted" class="anchor field">§</a><code>Mounted: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.MountedCallback.html" title="type dokany_sys::MountedCallback">MountedCallback</a>&gt;</code></span><div class="docblock"><p>Mounted Dokan API callback</p>
<p>Called when Dokan successfully mounts the volume.</p>
<p>If <a href="constant.DOKAN_OPTION_MOUNT_MANAGER.html" title="constant dokany_sys::DOKAN_OPTION_MOUNT_MANAGER">DOKAN_OPTION_MOUNT_MANAGER</a> is enabled and the drive letter requested is busy,
the MountPoint can contain a different drive letter that the mount manager assigned us.</p>
<h3 id="arguments-20"><a href="#arguments-20">Arguments</a></h3>
<p><code>MountPoint</code>: The mount point assign to the instance.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-13"><a href="#return-13">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result. The value is currently not used by the library.</p>
<h3 id="references-10"><a href="#references-10">References</a></h3>
<p>See Unmounted</p>
</div><span id="structfield.Unmounted" class="structfield small-section-header"><a href="#structfield.Unmounted" class="anchor field">§</a><code>Unmounted: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.Unmounted.html" title="type dokany_sys::Unmounted">Unmounted</a>&gt;</code></span><div class="docblock"><p>Unmounted Dokan API callback</p>
<p>Called when Dokan is unmounting the volume.</p>
<h3 id="references-11"><a href="#references-11">References</a></h3>
<p><code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-14"><a href="#return-14">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or <code>NTSTATUS</code> appropriate to the request result. The value is currently not used by the library.</p>
<h3 id="references-12"><a href="#references-12">References</a></h3>
<p>See Mounted</p>
</div><span id="structfield.GetFileSecurity" class="structfield small-section-header"><a href="#structfield.GetFileSecurity" class="anchor field">§</a><code>GetFileSecurity: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.GetFileSecurityCallback.html" title="type dokany_sys::GetFileSecurityCallback">GetFileSecurityCallback</a>&gt;</code></span><div class="docblock"><p>GetFileSecurity Dokan API callback</p>
<p>Get specified information about the security of a file or directory.</p>
<p>Return <code>STATUS_NOT_IMPLEMENTED</code> to let dokan library build a sddl of the current process user with authenticate user rights for context menu.
Return <code>STATUS_BUFFER_OVERFLOW</code> if buffer size is too small.</p>
<p>Supported since version 0.6.0. The version must be specified in <code>DOKAN_OPTIONS.Version</code>.</p>
<h3 id="parameters"><a href="#parameters">Parameters</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>SecurityInformation</code>: A SECURITY_INFORMATION value that identifies the security information being requested.
<code>SecurityDescriptor</code>: A pointer to a buffer that receives a copy of the security descriptor of the requested file.
<code>BufferLength</code>: Specifies the size, in bytes, of the buffer.
<code>LengthNeeded</code>: A pointer to the variable that receives the number of bytes necessary to store the complete security descriptor.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-15"><a href="#return-15">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
<h3 id="references-13"><a href="#references-13">References</a></h3>
<p>See SetFileSecurity
See <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa446639(v=vs.85).aspx">GetFileSecurity function (MSDN)</a></p>
</div><span id="structfield.SetFileSecurity" class="structfield small-section-header"><a href="#structfield.SetFileSecurity" class="anchor field">§</a><code>SetFileSecurity: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.SetFileSecurityCallback.html" title="type dokany_sys::SetFileSecurityCallback">SetFileSecurityCallback</a>&gt;</code></span><div class="docblock"><p>SetFileSecurity Dokan API callback</p>
<p>Sets the security of a file or directory object.</p>
<p>Supported since version 0.6.0. The version must be specified in <code>DOKAN_OPTIONS.Version</code>.</p>
<h3 id="arguments-21"><a href="#arguments-21">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>SecurityInformation</code>: Structure that identifies the contents of the security descriptor pointed by \a SecurityDescriptor param.
<code>SecurityDescriptor</code>: A pointer to a SECURITY_DESCRIPTOR structure.
<code>BufferLength</code>: Specifies the size, in bytes, of the buffer.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-16"><a href="#return-16">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.
References
See GetFileSecurity
See <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa379577(v=vs.85).aspx">SetFileSecurity function (MSDN)</a></p>
</div><span id="structfield.FindStreams" class="structfield small-section-header"><a href="#structfield.FindStreams" class="anchor field">§</a><code>FindStreams: <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.FindStreamsCallback.html" title="type dokany_sys::FindStreamsCallback">FindStreamsCallback</a>&gt;</code></span><div class="docblock"><p>FindStreams Dokan API callback</p>
<p>Retrieve all NTFS Streams informations on the file.
This is only called if <code>DOKAN_OPTION_ALT_STREAM</code> is enabled.</p>
<p>Supported since version 0.8.0. The version must be specified in \ref DOKAN_OPTIONS.Version.</p>
<h3 id="arguments-22"><a href="#arguments-22">Arguments</a></h3>
<p><code>FileName</code>: File path requested by the Kernel on the FileSystem.
<code>FillFindStreamData</code>: Callback that has to be called with PWIN32_FIND_STREAM_DATA that contain stream information.
<code>FindStreamContext</code>: Context for the event to pass to the callback FillFindStreamData.
<code>DokanFileInfo</code>: Information about the file or directory.</p>
<h3 id="return-17"><a href="#return-17">Return</a></h3>
<p><code>STATUS_SUCCESS</code> on success or NTSTATUS appropriate to the request result.</p>
</div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="../src/dokany_sys/lib.rs.html#969-1000">source</a><a href="#impl-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="srclink rightside" href="../src/dokany_sys/lib.rs.html#971-999">source</a><h4 class="code-header">pub const fn <a href="#method.new" class="fn">new</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Make a new empty <a href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS"><code>DOKAN_OPERATIONS</code></a>.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="../src/dokany_sys/lib.rs.html#1002-1006">source</a><a href="#impl-Default-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="srclink rightside" href="../src/dokany_sys/lib.rs.html#1003-1005">source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/default/trait.Default.html#tymethod.default" class="fn">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/1.71.1/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-DOKAN_OPERATIONS" class="impl"><a href="#impl-RefUnwindSafe-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section><section id="impl-Send-for-DOKAN_OPERATIONS" class="impl"><a href="#impl-Send-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section><section id="impl-Sync-for-DOKAN_OPERATIONS" class="impl"><a href="#impl-Sync-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section><section id="impl-Unpin-for-DOKAN_OPERATIONS" class="impl"><a href="#impl-Unpin-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section><section id="impl-UnwindSafe-for-DOKAN_OPERATIONS" class="impl"><a href="#impl-UnwindSafe-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.DOKAN_OPERATIONS.html" title="struct dokany_sys::DOKAN_OPERATIONS">DOKAN_OPERATIONS</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.71.1/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.71.1/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.71.1/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.71.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#723">source</a><a href="#impl-From%3CT%3E-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#726">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#707">source</a><a href="#impl-Into%3CU%3E-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#716">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#763">source</a><a href="#impl-TryFrom%3CU%3E-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#770">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-DOKAN_OPERATIONS" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#748">source</a><a href="#impl-TryInto%3CU%3E-for-DOKAN_OPERATIONS" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/1.71.1/src/core/convert/mod.rs.html#755">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>